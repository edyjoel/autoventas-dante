---

---

<header class="site-header">
  <div class="container header-inner">
    <div class="logo">
      <a class="logo-link" href="/">Autoventas Dante</a>
    </div>
    <button
      class="hamburger"
      type="button"
      aria-label="Menú"
      aria-expanded="false"
      aria-controls="primary-nav"
    >
      <span></span>
      <span></span>
      <span></span>
    </button>
    <nav id="primary-nav" class="site-nav" aria-label="Navegación principal">
      <ul class="site-nav-list">
        <li class="site-nav-item">
          <a class="site-nav-link" href="/#hero" data-target="#hero">Inicio</a>
        </li>
        <li class="site-nav-item">
          <a class="site-nav-link" href="/#modelos" data-target="#modelos"
            >Modelos</a
          >
        </li>
        <li class="site-nav-item">
          <a class="site-nav-link" href="/#contacto" data-target="#contacto"
            >Contacto</a
          >
        </li>
      </ul>
    </nav>
  </div>
</header>

<script>
  /** @type {HTMLButtonElement | null} */
  const hamburger = document.querySelector(".hamburger");
  /** @type {HTMLElement | null} */
  const nav = document.querySelector(".site-nav");
  /** @type {HTMLElement | null} */
  const header = document.querySelector(".site-header");

  const toggleHeaderShadow = () => {
    if (!header) return;
    header.classList.toggle("scrolled", window.scrollY > 0);
  };

  toggleHeaderShadow();
  window.addEventListener("scroll", toggleHeaderShadow, { passive: true });

  hamburger?.addEventListener("click", () => {
    const isExpanded = hamburger.getAttribute("aria-expanded") === "true";
    hamburger.setAttribute("aria-expanded", String(!isExpanded));
    hamburger.classList.toggle("active");
    nav?.classList.toggle("active");
  });

  /** @type {HTMLAnchorElement[]} */
  const navLinks = Array.from(
    document.querySelectorAll(".site-nav a[data-target]"),
  );

  const sections = navLinks
    .map((link) =>
      document.querySelector(link.getAttribute("data-target") || ""),
    )
    .filter((section) => section instanceof HTMLElement);

  if (sections.length) {
    const SCROLL_OFFSET = 100;

    const handleScrollSpy = () => {
      const scrollPosition = window.scrollY + SCROLL_OFFSET;
      let currentSection = sections[0];

      sections.forEach((section) => {
        if (section.offsetTop - SCROLL_OFFSET <= scrollPosition) {
          currentSection = section;
        }
      });

      if (!currentSection) return;

      const targetId = `#${currentSection.id}`;
      const matchingLink = navLinks.find(
        (link) => link.getAttribute("data-target") === targetId,
      );

      if (!matchingLink) return;

      navLinks.forEach((link) => {
        link.classList.toggle("active", link === matchingLink);
        if (link === matchingLink) {
          link.setAttribute("aria-current", "location");
        } else {
          link.removeAttribute("aria-current");
        }
      });
    };

    handleScrollSpy();
    window.addEventListener("scroll", handleScrollSpy, { passive: true });
    window.addEventListener("resize", handleScrollSpy);
  }
</script>

<style>
  .site-header {
    background-color: var(--color-bg-light);
    color: var(--color-text-primary);
    padding: 1rem 0;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1100;
    box-shadow: none;
    transition: box-shadow 0.3s ease;
  }

  .site-header.scrolled {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
  }

  .header-inner {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 2rem;
  }

  .logo-link {
    font-size: 1.25rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.18em;
    color: var(--color-primary);
    font-family: var(--font-heading);
    display: inline-flex;
    align-items: center;
  }

  .hamburger {
    display: none;
    flex-direction: column;
    gap: 5px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.5rem;
    z-index: 1001;
  }

  .hamburger span {
    display: block;
    width: 25px;
    height: 3px;
    background-color: var(--color-text-primary);
    transition: all 0.3s ease;
    border-radius: 2px;
  }

  .hamburger.active span:nth-child(1) {
    transform: rotate(45deg) translate(7px, 7px);
  }

  .hamburger.active span:nth-child(2) {
    opacity: 0;
  }

  .hamburger.active span:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -7px);
  }

  .site-nav-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    gap: 2rem;
  }

  .site-nav-link {
    color: inherit;
  }

  .site-nav-link.active {
    color: var(--color-primary);
  }

  @media (max-width: 768px) {
    .hamburger {
      display: flex;
    }

    .site-nav {
      position: fixed;
      top: var(--header-height);
      right: -100%;
      width: 70%;
      max-width: 300px;
      height: calc(100vh - var(--header-height));
      background-color: var(--color-bg-light);
      box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
      transition: right 0.3s ease;
      z-index: 1000;
      padding-top: 5rem;
    }

    .site-nav.active {
      right: 0;
    }

    .site-nav-list {
      flex-direction: column;
      gap: 0;
      padding: 1rem;
    }

    .site-nav-item {
      border-bottom: 1px solid var(--color-border);
    }

    .site-nav-link {
      display: block;
      padding: 1rem;
    }
  }
</style>
